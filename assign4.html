<html>
<HEAD>
<TITLE>Ser321 Assign 4</TITLE>
<BASE TARGET="_top">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="keywords" content="distributed objects, distributed computing, arizona, network programming, soa, ASP.NET, Tim Lindquist">
<style type="text/css">
<!--
.TitleFont {  font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 24pt; font-style: normal; font-weight: bold; color: #FFCC00}
-->
</style></head>
<body bgcolor="#E0E0AF">
<table border="2" width="100%">
  <tr> 
    <td height=95 width=23% bgcolor=#FFC20E> 
      <div align=center><font size=6 color=#9B0033><b>Ser321</font></b></div>
    </td>
    <td height=95 width=77% class=TitleFont bgcolor=#9B0033> 
    <div align=center><font size=6 color=#FFC20E><b>Principles of Distributed Software Systems
      </b></font></div>
    </td>
  </tr>
</table>

<h2>Assign4: Message Management with C++, FLTK and JSON
</H2>

<h3><font color=#9B0033>Due Date Provided on Course Blackboard Site
   </font></h3>
<font color=#9B0033>Changes since distribution:
<ul>
  <li>none</li>
</ul>
</font>

<P><B><FONT SIZE=+1>Description</FONT></B>
<p>
The learning outcomes of this assignment are:
<ol>
<li>Ability to design and implement classes in C++, using the <b>g++</b>
    compiler. Here is Juan Soulie's <a href="../Assign5/tutorial.jar">tutorial.jar</a>
    which covers the basics of C++.
</li>
<li>Knowledge working with the <b>Ant</b> build tool and the command-line
    and a text editor for developing <b>C++</b> applications.
</li>
<li>Experience working with <b>C++ Full Light ToolKit (FLTK)</b> user-interfaces and
    their components; especially simple controls that
    do not require an underlying data model or data source.
    Handling events generated by <b>FLTK</b> components.
</li>
<li>Experience creating C++ programs having multiple classes</li>
<li>Experience using pre-compiled auxilary C++ classes contained in <b>library</b> archive.</li>
<li>Experience working with <b>Serialization</b> using <b>Json</b>.</li>
</ol>
<p>
The pre-requisites for this assignment are:
<ol>
  <li>Units 1-4 of the Ser321 course content. This includes Linux, C++, Ant, UI FLTK, and
  Json Serialization</li>
  <li>The Development Environment for this assignment includes VirtualBox Linux with
  the packages <b>ant, g++,</b> and <b>libjsoncpp package</b>. Note that <b>Ant</b> must
  be augmented with the <b>cpptasks.jar</b> as explained in the <b>readme.txt</b>
  file of the <b>C++</b> example:
  <a href="http://pooh.poly.asu.edu/Ser321/Examples/ObjC/cppFraction.jar">cppFraction.jar</a>.
</li>
</ol>
<p>
In this assignment, create a non-distributed
<b>Message Browser</b> application in C++ that utilizes the instructor
provided <b>FLTK GUI</b>. The <b>Message Browser</b> is
a collection of <b>Message</b> objects. You are to create a <b>Message</b> class,
that serializes/deserializes to/from a text file containing a collection of Json message objects.
Note that you should use the same <b>messages.json</b> as used for the <b>Java</b> version of this
assignment.
The user interface provides the ability
for browsing messages that are in the collection. In this case, the json file contains
sample messages addressed to the user. Your file should have atleast 4 messages.
<p>The browser's constructor should read in the file initializing the message list
(<b>messageListJL</b>) to include each message heading. Your message class should
include a constructor to initialize a message object from a <b>Json::Value</b>, and
another method to export a message object to a <b>Json::Value</b>. Be
sure to include an appropriate initialization file with the solution you submit.
<p>
The user interface for client is provided in the example
<a href="./assign4WebDist.jar">assign4WebDist.jar</a>. It includes an <b>Ant</b> build
file that will compile and execute a sample client. It also includes <b>src/sample/MessageGui.cpp</b> for
providing definitions of properties in the instructor provided <b>MessageGui</b> class.
There is also a sample main program demonstrating the use of the GUI with <b>C++</b> in the
program <b>src/sample/samplemain.cpp</b>.
An example project that demonstrates serialziation to/from <b>Json</b> for both <b>C++</b> and
<b>Java</b> is provided in the example
<a href="http://pooh.poly.asu.edu/Ser321/Examples/Serial/groupJson.jar">groupJson.jar</a>.
<p>
Below is a view of the <b>MessageGui</b>.
You are free to use this user-interface, or create your own.
Should you create your own, you must use <b>FLTK</b>, and incorporate the same controls and actions
defined in this <b>GUI</b><br>
<center><img src="./assign4Gui-970x430.png" height=430 width=970></center><br>
<p>
In summary, create a stand-alone Message Client application, using <b>C++/FLTK</b>.
Your application should
initialize a message library from a <b>Json</b> file, and have the ability to select, remove,
and add messages (use the reply and send buttons). You should also support exporting the library of
messages using <b>Json</b> serialization back a file. Future
assignments will enhance this solution by providing a <b>Message Server</b> and connecting
the client to the server to replace the initialization json file.
<p>
<b>Functionality</b>. Here is an explanation of the functionality that
your application should provide, together with a description
of how users should interact with your <b>GUI</b> control logic.
<p>
Your application can assume that all users will only use the GUI
as it is designed to be used. That is, you do not need to validate user inputs.
<p>
The fields on the right side of the <b>Message Gui</b> are used to
compose messages. <b>Message</b> menu items (or buttons) are used to send a message.
The <b>Message</b> actions the following:
<ul>
  <li><b>Message List Item Selection</b> - (required functionality) Displays information about
  the newly selected message in the message list.</li>
  <li><b>Delete</b> - (required functionality) Removes the message that is currently selected in the
  message list.</li>
  <li><b>Reply</b> - (required functionality) Switches the right panel fields from display to compose.
      Swaps the to and from fields, pre-pends <b>Re:</b> to the <b>Subject</b>
      field and modifies the message content text area to allow new text to
      be entered before the old message.</li>
  <li><b>Send Text</b> - (remote communication required in a future assignment, not this one)
      Uses the appropriate remote method to send
      a clear text message to the Message Server
      as indicated by the <b>To</b> field. You may use this button in this assignment to add a new
      entry to the message library.</li>
  <li><b>Send Cipher</b> - (required in a future assignment, not this one)
      Uses the appropriate remote method to send
      a cypher text to the Message Server
      as indicated by the <b>To</b> field.
      The cipher text should be handled by both the sender and receiver
      using password based encryption. You should encrypt/decrypt
      a string that consists of the <b>From, Subject</b> and
      message content fields in that order separated by <b>^</b> (up-arrow)
      characters. Up-arrow cannot appear in the from or subject fields.</li>
</ul>
<p>
Your <b>C++</b> files should contain class comments similar in structure to that of the instructor's example
code. This constraint applies to all source code you submit in this course. The comments should include a 
right-to-use license that provides the course the right to compile, run, and evaluate the software for
purposes of course grading and program (BSSE) assessment. The comments should also include your copyright,
your name, purpose, and your contact information (email), as well as software version and modification/creation date.
All source files/classes you generate should include these comments.
should include this information.

<P><B><FONT SIZE=+1>The Message Library Interface</FONT></B>
<p>
To make future assignments easier, your solution should include two classes for the underlying application
<b>Model</b>: <b>Message</b>, and <b>MessageLibrary</b>.
These classes should have constructors for <b>Json::Value</b>, and a method
to export and object's state to <b>Json::Value</b>. Your <b>MessageLibrary</b> class may also
support methods similar to those defined in the <b>Java</b> version of this assignment.
<p>
Your application's model may implement these methods to receive new messages.
As appropriate, add messages to the list. 
When the user selects the new message from the list, your program should
display details of the message in the appropriate fields.
<p>
<B><FONT SIZE=+1>Structure of your Solution Directory</FONT></B>
<p>
Submit your solution on Blackboard as a Java archive file (jar) of the project directory:
<b>Assign4</b>.
Grading your project will be done by extracting the jar and executing
the project using Ant from the command-line on Virtual Box Debian as defined as the <b>Course Development Environment</b>.
The project directory should include only the following files,
subdirectories and classes:
<ul>
  <li>The Ant directive file <b>build.xml</b>.
  The build should contain targets for
  <b>targets, clean, prepare, build,</b> and <b>execute</b>. The
  <b>execute</b>
  target compiles and executes your <b>C++</b> Message Browser with appropriate arguments.
  Other examples are covered in class to provide <b>Json</b> serialization.</li>
  <li>Subdirectory: <b>src/client</b> for your solution's source files.</li>
  <li>Subdirectory <b>bin</b> used to store the executable program as generated by your <b>build</b>
      target. The <b>bin</b> folder may be generated by Ant.</li>
  <li>A file <b>messages.json</b> which contains a <b>Json</b> initialization file for your
      library. </li>
</ul>

<P><B><FONT SIZE=+1>What To Hand-In</FONT></B>
<p>
Hand-in this program by submitting a jar file to the Blackboard page for this assignment.
<p>
When extracted, your solution jar file should create the directory
<b>Assign4</b>
with only your solution files as specified above. Create your jar file from
a command line whose current working directory is <b>Assign4</b>'s
parent directory. Execute the command:
<br><center><font color=#9B0033>
jar -cvf assign4myasuriteid.jar Assign4/
</font></center><br>
The instructors solution would be created and named as:
<br><center><font color=#9B0033>
jar -cvf assign4lindquis.jar Assign4/
</font></center><br>
Before you submit the jar file on Blackboard, please do the following:
<ul>
  <li>Check to assure your solution conforms to the directions on this page.
  <li>Consider the grading criteria as shown below to be sure that you'll
  receive full credit for your submission.
  Of 20 possible points, they are awarded for:
  <ol> 
      <li>Properly formated and named solution file. The Assign4 directory
      should have the files specified above (only) (5 points).</li>
      <li><b>Functionality</b>. The <b>C++</b> application is able to support
      all of the functionality defined above by initializeing a message library
      from the <b>Json</b> file and the <b>Gui</b> browsing its contents. (10 points)
      <li><b>C++ classes and usage</b>. The solution should use the convention of <b>.hpp</b>
      to hold the <b>C++</b> class header, and <b>.cpp</b> to hold the <b>C++</b> class
      implementation. The application is segmented into
      appropriately named classes for <b>Message, MessageLibrary, Controller,</b>
      and instructor provided <b>GUI</b>. These classes are commented as described
      in class and above, and as exemplified through instructor code
      (5 points).</li>
  </ol>
  <li>Clean your solution directory of any temporary files
      before creating the jar file. Extract the solution
      in another directory, build and execute the solution to be certain
      it works properly.
</ul>
<hr>

<center>
Email: <a href="mailto:Tim.Lindquist@asu.edu">Tim.Lindquist@asu.edu</a> | <a href="../../index.html">Ser321 Home</a><br>
</center>
</body>
</html>
